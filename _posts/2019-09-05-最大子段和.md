---
layout: post
title: "最大子段和"
date: 2019-09-05
categories: 算法
photos:
- https://images.unsplash.com/photo-1498019559366-a1cbd07b5160?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60
tags: [算法]
---




## 问题描述
给定由n个整数(可能有负整数)组成的序列($a_1,a_2,...,a_n$),要求该序列形如$\sum_{k=i}^{j}a_k$的最大值($1\leq i \leq j \leq n$)。
 例如，序列(-20,11,-4,13,-5,-2)的最大子段和为$\sum_{k=2}^{4}a_k=20$。

## 问题解析
这里我们要考虑两点：
+ 1.保证子段最大
+ 2.且要保证子段是连续的（这句相当于废话，既然是子段，肯定是连续的）

## 最简单的方法（暴力枚举）

```java
public void maximumSum(int arr[]){
    int k = 0,n= arr.length;
    int sum = 0;
    int maxVlaue = -10000;
    int left = 0,right = 0;
    for(int l=0;l<n;l++){
        for(int r=l;r<n;r++){
            for (int i=l;i<=r;i++){
                sum+=arr[i];//主要循环语句
            }
            if (sum>maxVlaue){
                maxVlaue=sum;
                left = l;
                right = r;
            }
            sum = 0;
        }
    }
    System.out.println("最大和为"+maxVlaue);
    System.out.println("下标从"+left+"到"+right);
}
```
暴力枚举比较简单，就是将所有情况一一列出，每次循环都进行比较，取最大的那一段。
### 可以计算一下时间复杂度。  
$$\sum_{l=1}^{n}\sum_{r=l}^{n}\sum_{i=l}^{r}1$$  
$$=\sum_{l=1}^{n}\sum_{r=l}^{n}(r-l)$$  
$$=\sum_{l=1}^{n}(\sum_{r=l}^{n}r-\sum_{r=l}^{n}l)$$  
$$=\sum_{l=1}^{n}(n-l)l+\frac{(n-l)(n-l-1)}{2}-(r-l)l$$  
$$=\sum_{l=1}^{n}\frac{(n-l)(n-l-1)}{2}$$  
$$=\frac{n(n-l)(n-l-1)}{2}$$

## 分治法
采用分治法，可能会出现三种情况($a_1,...,a_n$)：  
+ 1.最大子段和在$a_1,...,a_n$的左半边，即$a_1,...,a_{n/2}$  
+ 2.最大子段和在$a_1,...,a_n$的右半边，即$a_{n/2},...,a_1$  
+ 3.最大子段和在$a_1,...,a_n$的左右半边之间，即$\sum_{k=i}^{j}{a_k},且1 \leq i \leq \frac{n}{2},\frac{n}{2} \leq j\leq n$
